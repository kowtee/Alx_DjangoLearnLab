{% extends "blog/base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'blog/css/style.css' %}">

<h2>All Posts</h2>

{% if user.is_authenticated %}
    <p><a href="{% url 'post-create' %}">Create New Post</a></p>
{% endif %}

{% for post in posts %}
    <article>
        <h3>
            <a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a>
        </h3>
        <p>
            By {{ post.author }} â€¢ {{ post.published_date }}
        </p>
        <p>
            {{ post.content|truncatechars:120 }}
        </p>
        <hr />
    </article>
{% empty %}
    <p>No posts yet.</p>
{% endfor %}
{% endblock %}

