{% extends "blog/base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'blog/css/style.css' %}">

<h2>Search Results</h2>

{% if query %}
    <p>Results for: "<strong>{{ query }}</strong>"</p>
{% else %}
    <p>Please enter a search term.</p>
{% endif %}

{% for post in posts %}
    <article>
        <h3><a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a></h3>
        <p>By {{ post.author }} â€¢ {{ post.published_date }}</p>
        <p>{{ post.content|truncatechars:120 }}</p>
        <p>
            {% for tag in post.tags.all %}
                <a href="{% url 'posts-by-tag' tag.name %}">#{{ tag.name }}</a>
            {% endfor %}
        </p>
        <hr />
    </article>
{% empty %}
    {% if query %}
        <p>No matching posts found.</p>
    {% endif %}
{% endfor %}

<p><a href="{% url 'post-list' %}">Back to posts</a></p>
{% endblock %}

